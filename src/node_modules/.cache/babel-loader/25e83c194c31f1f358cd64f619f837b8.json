{"ast":null,"code":"var _jsxFileName = \"/home/alexemdesgagne/octopus-telemetry/src/src/components/ToolbarModule.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback } from 'react';\nimport AppBar from './common/AppBar/AppBar';\nimport Toolbar from './common/ToolBar/ToolBar';\nimport Button from './common/button/Button';\nimport IconButton from './common/button/IconButton';\nimport MenuModule from './MenuModule';\nimport BatterieLevelIndicator from './BatteryLevelIndicatorModule';\nimport LabelAndValueModule from './LabelAndValueModule';\nimport { useROSService, ServiceRequestFactory } from '../hooks/useROSService';\nimport { useROSTopicSubscriber } from '../hooks/useROSTopicSubscriber';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ToolbarModule = () => {\n  _s();\n\n  /**\r\n   * TODO\r\n   * Check ros message\r\n   *\r\n   */\n  const [isMissionSwitchOn, setIsMissionSwitchOn] = React.useState(false);\n  const [isKillSwitchOn, setIsKillSwitchOn] = React.useState(false);\n  const [AUV7Temp, setAUV7Temp] = React.useState(0);\n  const [AUV8Temp, setAUV8Temp] = React.useState(0);\n  const [batteryLevel1, setbatteryLevel1] = React.useState('0');\n  const [batteryLevel2, setbatteryLevel2] = React.useState('0');\n  const toolbarServiceCallback = useCallback(x => {}, []);\n  const missionSwitchCallback = useCallback(x => {\n    let switchState = x.state;\n    setIsMissionSwitchOn(switchState);\n  }, []);\n  const killSwitchCallback = useCallback(x => {\n    let switchState = x.state;\n    setIsKillSwitchOn(switchState);\n  }, []);\n  const batteryLevelCallback = useCallback(x => {\n    let data = parseFloat(x.data).toFixed(2);\n    if (x.slave === 1) setbatteryLevel1(data);else if (x.slave === 3) setbatteryLevel2(data);\n  }, []);\n  const AUV7Callback = useCallback(x => {\n    let data = x.data;\n    let parsed = JSON.parse(data);\n    setAUV7Temp(parsed);\n  }, []);\n  const AUV8Callback = useCallback(x => {\n    let data = x.data;\n    let parsed = JSON.parse(data);\n    setAUV8Temp(parsed);\n  }, []);\n  const toolbarServicesCall = useROSService(toolbarServiceCallback, '/proc_control/EnableControl', 'sonia_common/EnableControl');\n  const startStopCameraCall = useROSService(toolbarServiceCallback, '/provider_vision/StarStopCamera', 'sonia_common/StartStopMedia');\n  useROSTopicSubscriber(batteryLevelCallback, '/provider_power/power', 'sonia_common/PowerMsg');\n  useROSTopicSubscriber(killSwitchCallback, '/provider_kill_mission/kill_switch_msg', 'sonia_common/KillSwitchMsg');\n  useROSTopicSubscriber(missionSwitchCallback, '/provider_kill_mission/mission_switch_msg', 'sonia_common/MissionSwitchMsg');\n  useROSTopicSubscriber(AUV7Callback, '/provider_system/system_temperature', 'std_msgs/Float32');\n  useROSTopicSubscriber(AUV8Callback, '/provider_jetson/system_temperature', 'std_msgs/Float32');\n\n  let handleAllAxisClicked = () => {\n    const request = ServiceRequestFactory({\n      X: 1,\n      Y: 1,\n      Z: 1,\n      PITCH: 1,\n      ROLL: 1,\n      YAW: 1\n    });\n    toolbarServicesCall(request);\n  };\n\n  let handleXYAxisClicked = () => {\n    const request = ServiceRequestFactory({\n      X: 1,\n      Y: 1,\n      Z: -1,\n      PITCH: -1,\n      ROLL: -1,\n      YAW: -1\n    });\n    toolbarServicesCall(request);\n  };\n\n  let handleDepthAxisClicked = () => {\n    const request = ServiceRequestFactory({\n      X: -1,\n      Y: -1,\n      Z: 1,\n      PITCH: -1,\n      ROLL: -1,\n      YAW: -1\n    });\n    toolbarServicesCall(request);\n  };\n\n  let handleRollAxisClicked = () => {\n    const request = ServiceRequestFactory({\n      X: -1,\n      Y: -1,\n      Z: -1,\n      PITCH: -1,\n      ROLL: 1,\n      YAW: -1\n    });\n    toolbarServicesCall(request);\n  };\n\n  let handleYawAxisClicked = () => {\n    const request = ServiceRequestFactory({\n      X: -1,\n      Y: -1,\n      Z: -1,\n      PITCH: -1,\n      ROLL: -1,\n      YAW: 1\n    });\n    toolbarServicesCall(request);\n  };\n\n  let handlePitchAxisClicked = () => {\n    const request = ServiceRequestFactory({\n      X: -1,\n      Y: -1,\n      Z: -1,\n      PITCH: 1,\n      ROLL: -1,\n      YAW: -1\n    });\n    toolbarServicesCall(request);\n  };\n\n  let handleStartFrontCameraClicked = () => {\n    const request = ServiceRequestFactory({\n      Bottom_GigE: 2,\n      Front_GigE: 1\n    });\n    startStopCameraCall(request);\n  };\n\n  let handleStartBottomCameraClicked = () => {\n    const request = ServiceRequestFactory({\n      Bottom_GigE: 1,\n      Front_GigE: 2\n    });\n    startStopCameraCall(request);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"static\",\n    style: {\n      background: '#2E3B55'\n    },\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        edge: \"start\",\n        color: \"inherit\",\n        arialabel: \"menu\",\n        children: /*#__PURE__*/_jsxDEV(MenuModule, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"All\",\n        handler: handleAllAxisClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"XY\",\n        style: {\n          margin: '15px'\n        },\n        handler: handleXYAxisClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Depth\",\n        style: {\n          margin: '15px'\n        },\n        handler: handleDepthAxisClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Roll\",\n        style: {\n          margin: '15px'\n        },\n        handler: handleRollAxisClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Pitch\",\n        style: {\n          margin: '15px'\n        },\n        handler: handlePitchAxisClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Yaw\",\n        style: {\n          margin: '15px'\n        },\n        handler: handleYawAxisClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Start front\",\n        style: {\n          margin: '15px',\n          backgroundColor: 'black',\n          color: 'red'\n        },\n        handler: handleStartFrontCameraClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Start bottom\",\n        style: {\n          margin: '15px',\n          backgroundColor: 'black',\n          color: 'red'\n        },\n        handler: handleStartBottomCameraClicked\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LabelAndValueModule, {\n        label: \"AUV7\",\n        value: AUV7Temp,\n        unit: \"C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LabelAndValueModule, {\n        label: \"AUV8\",\n        value: AUV8Temp,\n        unit: \"C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BatterieLevelIndicator, {\n        value: batteryLevel1,\n        label: \"Batterie 1\",\n        unit: \"V\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BatterieLevelIndicator, {\n        value: batteryLevel2,\n        label: \"Batterie 2\",\n        unit: \"V\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          handler: () => {},\n          disabled: true,\n          style: {\n            margin: '15px',\n            backgroundColor: isMissionSwitchOn ? 'green' : 'red',\n            color: 'white'\n          },\n          label: isMissionSwitchOn ? 'Mission switch on' : 'Mission switch off'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            margin: '15px',\n            backgroundColor: isKillSwitchOn ? 'green' : 'red',\n            color: 'white'\n          },\n          label: isKillSwitchOn ? 'Kill switch activated' : 'Kill switch off',\n          handler: () => {},\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ToolbarModule, \"f9F6uoSGNM3zGWb6yZ6gYACndiI=\", false, function () {\n  return [useROSService, useROSService, useROSTopicSubscriber, useROSTopicSubscriber, useROSTopicSubscriber, useROSTopicSubscriber, useROSTopicSubscriber];\n});\n\n_c = ToolbarModule;\nexport default ToolbarModule;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToolbarModule\");","map":{"version":3,"sources":["/home/alexemdesgagne/octopus-telemetry/src/src/components/ToolbarModule.tsx"],"names":["React","useCallback","AppBar","Toolbar","Button","IconButton","MenuModule","BatterieLevelIndicator","LabelAndValueModule","useROSService","ServiceRequestFactory","useROSTopicSubscriber","ToolbarModule","isMissionSwitchOn","setIsMissionSwitchOn","useState","isKillSwitchOn","setIsKillSwitchOn","AUV7Temp","setAUV7Temp","AUV8Temp","setAUV8Temp","batteryLevel1","setbatteryLevel1","batteryLevel2","setbatteryLevel2","toolbarServiceCallback","x","missionSwitchCallback","switchState","state","killSwitchCallback","batteryLevelCallback","data","parseFloat","toFixed","slave","AUV7Callback","parsed","JSON","parse","AUV8Callback","toolbarServicesCall","startStopCameraCall","handleAllAxisClicked","request","X","Y","Z","PITCH","ROLL","YAW","handleXYAxisClicked","handleDepthAxisClicked","handleRollAxisClicked","handleYawAxisClicked","handlePitchAxisClicked","handleStartFrontCameraClicked","Bottom_GigE","Front_GigE","handleStartBottomCameraClicked","background","margin","backgroundColor","color","marginLeft"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\r\n\r\nimport AppBar from './common/AppBar/AppBar';\r\nimport Toolbar from './common/ToolBar/ToolBar';\r\nimport Button from './common/button/Button';\r\nimport IconButton from './common/button/IconButton';\r\n\r\nimport MenuModule from './MenuModule';\r\nimport BatterieLevelIndicator from './BatteryLevelIndicatorModule';\r\nimport LabelAndValueModule from './LabelAndValueModule';\r\n\r\nimport { useROSService, ServiceRequestFactory } from '../hooks/useROSService';\r\nimport { useROSTopicSubscriber } from '../hooks/useROSTopicSubscriber';\r\n\r\nconst ToolbarModule = () => {\r\n\r\n  /**\r\n   * TODO\r\n   * Check ros message\r\n   *\r\n   */\r\n\r\n  const [isMissionSwitchOn, setIsMissionSwitchOn] = React.useState(false);\r\n  const [isKillSwitchOn, setIsKillSwitchOn] = React.useState(false);\r\n  const [AUV7Temp, setAUV7Temp] = React.useState(0);\r\n  const [AUV8Temp, setAUV8Temp] = React.useState(0);\r\n\r\n  const [batteryLevel1, setbatteryLevel1] = React.useState('0');\r\n  const [batteryLevel2, setbatteryLevel2] = React.useState('0');\r\n\r\n  const toolbarServiceCallback = useCallback((x: any) => {}, []);\r\n\r\n  const missionSwitchCallback = useCallback((x: any) => {\r\n    let switchState = x.state;\r\n    setIsMissionSwitchOn(switchState);\r\n  }, []);\r\n\r\n  const killSwitchCallback = useCallback((x: any) => {\r\n    let switchState = x.state;\r\n    setIsKillSwitchOn(switchState);\r\n  }, []);\r\n\r\n  const batteryLevelCallback = useCallback((x: any) => {\r\n    let data = parseFloat(x.data).toFixed(2);\r\n    if (x.slave === 1) setbatteryLevel1(data);\r\n    else if (x.slave === 3) setbatteryLevel2(data);\r\n  }, []);\r\n\r\n  const AUV7Callback = useCallback((x: any) => {\r\n    let data = x.data;\r\n    let parsed = JSON.parse(data);\r\n    setAUV7Temp(parsed);\r\n  }, []);\r\n  const AUV8Callback = useCallback((x: any) => {\r\n    let data = x.data;\r\n    let parsed = JSON.parse(data);\r\n    setAUV8Temp(parsed);\r\n  }, []);\r\n\r\n  const toolbarServicesCall = useROSService<any>(\r\n    toolbarServiceCallback,\r\n    '/proc_control/EnableControl',\r\n    'sonia_common/EnableControl'\r\n  );\r\n  const startStopCameraCall = useROSService<any>(\r\n    toolbarServiceCallback,\r\n    '/provider_vision/StarStopCamera',\r\n    'sonia_common/StartStopMedia'\r\n  );\r\n  useROSTopicSubscriber<any>(\r\n    batteryLevelCallback,\r\n    '/provider_power/power',\r\n    'sonia_common/PowerMsg'\r\n  );\r\n  useROSTopicSubscriber<any>(\r\n    killSwitchCallback,\r\n    '/provider_kill_mission/kill_switch_msg',\r\n    'sonia_common/KillSwitchMsg'\r\n  );\r\n  useROSTopicSubscriber<any>(\r\n    missionSwitchCallback,\r\n    '/provider_kill_mission/mission_switch_msg',\r\n    'sonia_common/MissionSwitchMsg'\r\n  );\r\n  useROSTopicSubscriber<any>(\r\n    AUV7Callback,\r\n    '/provider_system/system_temperature',\r\n    'std_msgs/Float32'\r\n  );\r\n  useROSTopicSubscriber<any>(\r\n    AUV8Callback,\r\n    '/provider_jetson/system_temperature',\r\n    'std_msgs/Float32'\r\n  );\r\n\r\n  let handleAllAxisClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      X: 1,\r\n      Y: 1,\r\n      Z: 1,\r\n      PITCH: 1,\r\n      ROLL: 1,\r\n      YAW: 1,\r\n    });\r\n    toolbarServicesCall(request);\r\n  };\r\n\r\n  let handleXYAxisClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      X: 1,\r\n      Y: 1,\r\n      Z: -1,\r\n      PITCH: -1,\r\n      ROLL: -1,\r\n      YAW: -1,\r\n    });\r\n    toolbarServicesCall(request);\r\n  };\r\n\r\n  let handleDepthAxisClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      X: -1,\r\n      Y: -1,\r\n      Z: 1,\r\n      PITCH: -1,\r\n      ROLL: -1,\r\n      YAW: -1,\r\n    });\r\n    toolbarServicesCall(request);\r\n  };\r\n\r\n  let handleRollAxisClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      X: -1,\r\n      Y: -1,\r\n      Z: -1,\r\n      PITCH: -1,\r\n      ROLL: 1,\r\n      YAW: -1,\r\n    });\r\n    toolbarServicesCall(request);\r\n  };\r\n\r\n  let handleYawAxisClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      X: -1,\r\n      Y: -1,\r\n      Z: -1,\r\n      PITCH: -1,\r\n      ROLL: -1,\r\n      YAW: 1,\r\n    });\r\n    toolbarServicesCall(request);\r\n  };\r\n\r\n  let handlePitchAxisClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      X: -1,\r\n      Y: -1,\r\n      Z: -1,\r\n      PITCH: 1,\r\n      ROLL: -1,\r\n      YAW: -1,\r\n    });\r\n    toolbarServicesCall(request);\r\n  };\r\n\r\n  let handleStartFrontCameraClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      Bottom_GigE: 2,\r\n      Front_GigE: 1,\r\n    });\r\n    startStopCameraCall(request);\r\n  };\r\n\r\n  let handleStartBottomCameraClicked = () => {\r\n    const request = ServiceRequestFactory({\r\n      Bottom_GigE: 1,\r\n      Front_GigE: 2,\r\n    });\r\n    startStopCameraCall(request);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\" style={{ background: '#2E3B55' }}>\r\n      <Toolbar>\r\n        <IconButton edge=\"start\" color=\"inherit\" arialabel=\"menu\">\r\n          <MenuModule />\r\n        </IconButton>\r\n        <Button label=\"All\" handler={handleAllAxisClicked} />\r\n        <Button\r\n          label=\"XY\"\r\n          style={{ margin: '15px' }}\r\n          handler={handleXYAxisClicked}\r\n        />\r\n        <Button\r\n          label=\"Depth\"\r\n          style={{ margin: '15px' }}\r\n          handler={handleDepthAxisClicked}\r\n        />\r\n        <Button\r\n          label=\"Roll\"\r\n          style={{ margin: '15px' }}\r\n          handler={handleRollAxisClicked}\r\n        />\r\n        <Button\r\n          label=\"Pitch\"\r\n          style={{ margin: '15px' }}\r\n          handler={handlePitchAxisClicked}\r\n        />\r\n        <Button\r\n          label=\"Yaw\"\r\n          style={{ margin: '15px' }}\r\n          handler={handleYawAxisClicked}\r\n        />\r\n        <Button\r\n          label=\"Start front\"\r\n          style={{ margin: '15px', backgroundColor: 'black', color: 'red' }}\r\n          handler={handleStartFrontCameraClicked}\r\n        />\r\n        <Button\r\n          label=\"Start bottom\"\r\n          style={{ margin: '15px', backgroundColor: 'black', color: 'red' }}\r\n          handler={handleStartBottomCameraClicked}\r\n        />\r\n        <LabelAndValueModule label=\"AUV7\" value={AUV7Temp} unit=\"C\" />\r\n        <LabelAndValueModule label=\"AUV8\" value={AUV8Temp} unit=\"C\" />\r\n        <BatterieLevelIndicator\r\n          value={batteryLevel1}\r\n          label=\"Batterie 1\"\r\n          unit=\"V\"\r\n        />\r\n        <BatterieLevelIndicator\r\n          value={batteryLevel2}\r\n          label=\"Batterie 2\"\r\n          unit=\"V\"\r\n        />\r\n        <div style={{ marginLeft: 'auto' }}>\r\n          <Button\r\n            handler={() => {}}\r\n            disabled={true}\r\n            style={{\r\n              margin: '15px',\r\n              backgroundColor: isMissionSwitchOn ? 'green' : 'red',\r\n              color: 'white',\r\n            }}\r\n            label={\r\n              isMissionSwitchOn ? 'Mission switch on' : 'Mission switch off'\r\n            }\r\n          />\r\n          <Button\r\n            style={{\r\n              margin: '15px',\r\n              backgroundColor: isKillSwitchOn ? 'green' : 'red',\r\n              color: 'white',\r\n            }}\r\n            label={isKillSwitchOn ? 'Kill switch activated' : 'Kill switch off'}\r\n            handler={() => {}}\r\n            disabled={true}\r\n          />\r\n        </div>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default ToolbarModule;\r\n"]},"metadata":{},"sourceType":"module"}