{"ast":null,"code":"import * as elements from '../elements.js';\nvar GUAGE_FOREGROUND = \"#FFFFFF\";\nvar GUAGE_BACKGROUND = \"#191921\";\nexport function AirspeedTicker(ctx, location, data) {\n  this.ctx = ctx;\n  this.data = data;\n  this.loc = location;\n\n  this.update = function (data) {\n    this.data = data;\n  };\n\n  this.draw = function () {\n    this.drawAirspeedDigits(this.data.airspeed);\n  };\n\n  this.drawAirspeedDigits = function (airspeed) {\n    var x = this.loc.x;\n    var y = this.loc.y;\n    var wid = this.loc.width;\n    var hei = this.loc.height;\n    var arrowSize = 15;\n    var ctx = this.ctx;\n    ctx.fillStyle = GUAGE_BACKGROUND;\n    ctx.strokeStyle = GUAGE_FOREGROUND;\n    ctx.beginPath();\n    ctx.moveTo(x, y + hei / 2);\n    ctx.lineTo(x + arrowSize, y);\n    ctx.lineTo(x + arrowSize + wid, y);\n    ctx.lineTo(x + arrowSize + wid, y + hei);\n    ctx.lineTo(x + arrowSize, y + hei);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fill();\n    var onesList = [];\n\n    for (var i = 0; i < 10; i++) {\n      onesList[i] = i + \"\";\n    }\n\n    if (airspeed < 0) {\n      ctx.fillStyle = GUAGE_FOREGROUND;\n      ctx.strokeStyle = GUAGE_FOREGROUND;\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      ctx.moveTo(x + 25, y + 43);\n      ctx.lineTo(x + 35, y + 43);\n      ctx.closePath();\n      ctx.stroke();\n      airspeed = -airspeed;\n    }\n\n    airspeed = Math.round(airspeed * 10) / 10;\n    var ones = airspeed * 10 - Math.trunc(airspeed) * 10;\n    var tens = Math.trunc(airspeed); // Draw tens digit place\n\n    var loc = {};\n    var boxWidth = wid - arrowSize;\n    loc.x = x + arrowSize + boxWidth - 12;\n    loc.y = y;\n    loc.height = hei;\n    loc.width = boxWidth / 3 + 5;\n    elements.drawTickerDigit(this.ctx, onesList, ones, 1.0, 0, loc, 42); // Draw tens digit place\n\n    loc.x -= 1 / 3 * boxWidth + 15;\n    elements.drawTickerDigit(this.ctx, onesList, tens, 1.0, 0, loc, 42);\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.moveTo(x + 61, y + 52);\n    ctx.lineTo(x + 63, y + 52);\n    ctx.closePath();\n    ctx.stroke();\n  };\n\n  return this;\n}\n_c = AirspeedTicker;\n\nvar _c;\n\n$RefreshReg$(_c, \"AirspeedTicker\");","map":{"version":3,"sources":["/home/alexemdesgagne/octopus-telemetry/src/src/components/PFD/guages/airspeed_ticker.js"],"names":["elements","GUAGE_FOREGROUND","GUAGE_BACKGROUND","AirspeedTicker","ctx","location","data","loc","update","draw","drawAirspeedDigits","airspeed","x","y","wid","width","hei","height","arrowSize","fillStyle","strokeStyle","beginPath","moveTo","lineTo","closePath","stroke","fill","onesList","i","lineWidth","Math","round","ones","trunc","tens","boxWidth","drawTickerDigit"],"mappings":"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","sourcesContent":["\nimport * as elements from '../elements.js'\n\nvar GUAGE_FOREGROUND = \"#FFFFFF\";\nvar GUAGE_BACKGROUND = \"#191921\";\n\nexport function AirspeedTicker(ctx, location, data)\n{\n\tthis.ctx = ctx;\n\tthis.data = data;\n\tthis.loc = location;\n\n\tthis.update = function(data)\n\t{\n\t\tthis.data = data;\n\t}\n\n\tthis.draw = function()\n\t{\n\t\tthis.drawAirspeedDigits(this.data.airspeed);\n\t}\n\n\tthis.drawAirspeedDigits = function(airspeed)\n\t{\n\t\tvar x = this.loc.x;\n  \t\tvar y = this.loc.y;\n  \t\tvar wid = this.loc.width;\n  \t\tvar hei = this.loc.height;\n\n  \t\tvar arrowSize = 15; \n\n  \t\tvar ctx = this.ctx;\n  \t\tctx.fillStyle = GUAGE_BACKGROUND;\n \t\tctx.strokeStyle = GUAGE_FOREGROUND;\n\t\tctx.beginPath();\n\n\t\tctx.moveTo(x, y + hei / 2);\n\t\tctx.lineTo(x + arrowSize, y);\n\t\tctx.lineTo(x + arrowSize + wid, y);\n\t\tctx.lineTo(x + arrowSize + wid, y + hei);\n\t\tctx.lineTo(x + arrowSize, y + hei);\n\t\tctx.closePath();\n\t\tctx.stroke();\n\t\tctx.fill();\n  \t\n\t  \tvar onesList = []\n\t  \tfor (var i = 0; i < 10; i++)\n\t  \t{\n\t  \t\tonesList[i] = i + \"\"\n\t  \t}  \n\n\t  \tif (airspeed < 0)\n\t  \t{\n\t\t\tctx.fillStyle = GUAGE_FOREGROUND;\n\t\t\tctx.strokeStyle = GUAGE_FOREGROUND;\n\t\t\tctx.lineWidth = 2;\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x+25, y+43);\n\t\t\tctx.lineTo(x+35, y+43);\n\t\t\tctx.closePath();\n\t\t\tctx.stroke();\n\t  \t\tairspeed = -airspeed;\n\t  \t}\n\n\t\tairspeed = Math.round(airspeed * 10) / 10\n\n  \t\tvar ones = airspeed*10-Math.trunc(airspeed)*10;\n  \t\tvar tens = Math.trunc(airspeed); \n\n\t  \t// Draw tens digit place\n  \t\tvar loc = {}\n  \t\tvar boxWidth = (wid - arrowSize)\n  \t\tloc.x = x + arrowSize + (boxWidth) - 12\n  \t\tloc.y = y\n  \t\tloc.height = hei\n  \t\tloc.width = boxWidth / 3 + 5;\n  \t\telements.drawTickerDigit(this.ctx, onesList, ones, 1.0, 0, loc, 42);\n\n  \t\t// Draw tens digit place\n  \t\tloc.x -= (1 / 3 * boxWidth) + 15;\n  \t\telements.drawTickerDigit(this.ctx, onesList, tens, 1.0, 0, loc, 42);\n\t\t  \n\t\tctx.lineWidth = 2;\n\t\tctx.beginPath();\n\t\tctx.moveTo(x+61, y+52);\n\t\tctx.lineTo(x+63, y+52);\n\t\tctx.closePath();\n\t\tctx.stroke();\n\t}\n\n\treturn this;\n}\n"]},"metadata":{},"sourceType":"module"}